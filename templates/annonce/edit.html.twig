{% extends 'base.html.twig' %}

{% block title %}Edit Annonce{% endblock %}

{% block body %}
    <h1>Edit Annonce</h1>

    {{ include('annonce/_form.html.twig', {'button_label': 'Update'}) }}

    <h3>GÃ©rer les image de l'annonce</h3>
    <div class="d-flex gap-3">
        {% for photo in annonce.getPhotoAnnonces %}
            <div class="d-flex gap-2 flex-column">
                <img src="{{ photo.path }}" width="100px" alt="image" style="height: fit-content;">
                <form method="post" action="{{ path('app_image_delete', {'id': photo.id}) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">
                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ photo.id) }}">
                    <input type="hidden" name="redirect" value="{{ path("app_annonce_edit", {'id': annonce.id}) }}">
                    <button type="submit" class="btn">Delete</button>
                </form>
            </div>
        {% endfor %}
    </div>

    <a href="{{ path('app_annonce_index') }}">back to list</a>

    {{ include('annonce/_delete_form.html.twig') }}
{% endblock %}
